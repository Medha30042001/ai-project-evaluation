<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Login â€” TimeFlow</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles/style.css">
</head>
<body class="bg-gradient-to-br from-indigo-50 via-white to-purple-50 min-h-screen flex items-center justify-center">

  <div class="max-w-xl w-full p-8 glass-card">
    <h2 class="text-2xl font-bold mb-4">Sign in to TimeFlow</h2>
    <p class="text-gray-600 mb-6">Sign in with Google to start tracking your day.</p>

    <button id="googleSignIn" class="w-full px-5 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold flex items-center justify-center gap-3 hover:shadow-xl">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none"><path d="M21 11.5c0-.7-.06-1.38-.18-2.04H12v3.86h5.14c-.22 1.2-.9 2.21-1.92 2.9v2.4h3.1C20.06 18 21 15.98 21 11.5z" fill="white"/></svg>
      Sign in with Google
    </button>

    <div class="mt-6 text-center">
      <a href="index.html" class="text-indigo-600 hover:underline">Back to home</a>
    </div>
  </div>

    <!-- Firebase Config + Initialization -->
  <script src="scripts/firebase-config.js"></script>
  <script src="scripts/firebase-init.js"></script>

  <!-- Auth Logic -->
  <script src="scripts/auth.js"></script>

  <script>
    document.getElementById('googleSignIn').addEventListener('click', async () => {
      try {
        await signInWithGoogle();
        window.location.href = 'activity.html';
      } catch (e) {
        alert('Sign in failed: ' + (e.message || e));
      }
    });

    onAuthStateChanged(user => {
      if (user) window.location.href = 'activity.html';
    });
  </script>

</body>
</html>
