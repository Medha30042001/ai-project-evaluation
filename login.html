<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Login â€” TimeFlow</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles/style.css">
</head>
<body class="bg-gradient-to-br from-indigo-50 via-white to-purple-50 min-h-screen flex items-center justify-center">

  <div class="max-w-xl w-full p-8 glass-card">
    <h2 class="text-2xl font-bold mb-4">Sign in to TimeFlow</h2>
    <p class="text-gray-600 mb-6">Sign in with Google to start tracking your day.</p>

    <button id="googleSignIn" class="w-full px-5 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold flex items-center justify-center gap-3 hover:shadow-xl">
      <svg class="w-5 h-5" viewBox="0 0 48 48">
        <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.41 2.32 30.14 0 24 0 14.62 0 6.51 5.38 2.69 13.22l7.98 6.19C12.36 13.14 17.74 9.5 24 9.5z"/>
        <path fill="#4285F4" d="M46.5 24.5c0-1.57-.14-3.14-.39-4.63H24v9.13h12.62c-.55 2.89-2.17 5.33-4.6 7.03l7.14 5.54C43.82 36.27 46.5 30.72 46.5 24.5z"/>
        <path fill="#FBBC05" d="M10.67 28.41c-.5-1.47-.77-3.05-.77-4.67 0-1.62.27-3.2.77-4.67l-7.98-6.19C1.6 16.41 0 20.04 0 24c0 3.96 1.6 7.59 4.21 10.52l7.98-6.11z"/>
        <path fill="#34A853" d="M24 48c6.14 0 11.41-2.02 15.48-5.47l-7.14-5.54c-2.01 1.35-4.63 2.17-8.34 2.17-6.26 0-11.64-3.64-13.33-8.91l-7.98 6.11C6.51 42.62 14.62 48 24 48z"/>
      </svg>
      Sign in with Google
    </button>


    <div class="mt-6 text-center">
      <a href="index.html" class="text-indigo-600 hover:underline">Back to home</a>
    </div>
  </div>

    <!-- Firebase Config + Initialization -->
  <script src="scripts/firebase-config.js"></script>
  <script src="scripts/firebase-init.js"></script>

  <!-- Auth Logic -->
  <script src="scripts/auth.js"></script>

  <script>
    document.getElementById('googleSignIn').addEventListener('click', async () => {
      try {
        await signInWithGoogle();
        window.location.href = 'activity.html';
      } catch (e) {
        alert('Sign in failed: ' + (e.message || e));
      }
    });

    onAuthStateChanged(user => {
      if (user) window.location.href = 'activity.html';
    });
  </script>

</body>
</html>
